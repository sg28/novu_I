import { DEFAULT_WORKFLOW_PREFERENCES } from '../consts';
import { ChannelTypeEnum } from '../types';
export const buildWorkflowPreferences = (inputPreferences, defaultPreferences = DEFAULT_WORKFLOW_PREFERENCES) => {
    var _a;
    if (!inputPreferences) {
        return defaultPreferences;
    }
    const defaultChannelPreference = Object.assign({}, (((_a = inputPreferences === null || inputPreferences === void 0 ? void 0 : inputPreferences.all) === null || _a === void 0 ? void 0 : _a.enabled) !== undefined ? { enabled: inputPreferences.all.enabled } : {}));
    return Object.assign(Object.assign({}, defaultPreferences), { all: Object.assign(Object.assign({}, defaultPreferences.all), inputPreferences.all), channels: Object.assign(Object.assign({}, defaultPreferences.channels), Object.values(ChannelTypeEnum).reduce((output, channel) => {
            var _a;
            return (Object.assign(Object.assign({}, output), { [channel]: Object.assign(Object.assign(Object.assign({}, defaultPreferences.channels[channel]), defaultChannelPreference), (_a = inputPreferences === null || inputPreferences === void 0 ? void 0 : inputPreferences.channels) === null || _a === void 0 ? void 0 : _a[channel]) }));
        }, {})) });
};
